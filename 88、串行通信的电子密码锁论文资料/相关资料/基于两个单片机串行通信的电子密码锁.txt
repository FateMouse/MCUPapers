基于两个单片机串行通信的电子密码锁
目    录
1 引    言	1
2 系统概述	3
3 方案选择	4
3.1密码锁功能实现方法选择	4
3.1.1方案1――基于一个51单片机的电子密码锁设计	4
3.1.2 方案2――基于两个单片机串行通信的电子密码锁	4
3.2语音芯片的选择	5
4系统硬件电路的设计	7
4.1 系统核心部分――闪电存储型器件AT89S52	7
4.1.1 AT89S52具有下列主要性能	7
4.1.2 AT89S52的引脚及功能	8
4.1.3 信号引脚的第二功能	9
4.2 串口通信	10
4.2.1 串口通信方式	10
4.2.2 串行通信控制寄存器	11
4.2.3 数据发送与接收	11
4.3语音电路	12
4.3.1语言芯片ISD2540	12
4.3.2 ISD2540典型应用	15
4.3.3工作模式	17
4.3.4分段录放音	18
4.3.5语音控制电路	18
4.4电平转换电路	19
4.4.1电平转换芯片	19
4.4.2 MAX232芯片	20
4.4.3连接电路图	20
4.5键盘电路	21
4.5.1 单片机键盘和键盘接口概述	21
4.5.2 单片机键盘接口和键功能的实现	22
5 系统程序的设计	26
5.1 外部单片机发送密码程序的设计	26
5.2 键处理的流程图	27
5.3 内部单片机程序	28
5.4 语音播放调用程序	28
6 测试结果	30
结    论	31
参考文献	32
附录1：程序	33
附录2：整体电路图	41
外文翻译	43
致    谢	59
 
1 引    言
自从20世纪70年代问世以后，单片机作为微型计算机一个很重要的分支，应用广泛，发展迅速，已对很多领域产生了重大影响。尤其是美国Intel公司生产的MCS-51系列单片机，由于其具有集成度高、处理功能强、可靠性好、系统结构简单、价格低廉、易于使用等优点，在我国已经得到广泛使用，并已经在各个技术领域得到了迅猛发展。
单片机不仅在控制外围器件中有着重要的用途，其通信功能在现代控制系统中越来越显得重要。在众多的连接方案中，当然包括传统串口设备。由于串行通讯方式具有使用线路少、成本低，特别是在远程传输时可避免多条线路特性的不一致，因而被广泛采用。串行通信应用在产业自动化设备已有三十多年历史。在串行通信时，要求通信双方都采用一个标准接口，使不同的设备可以方便地连接起来进行通信。
RS-232-C接口（又称EIA RS-232-C）是目前最常用的一种串行通信接口。它是在1970年由美国电子工业协会（EIA）联合贝尔系统、调制解调器厂家及计算机终端生产厂家共同制定的用于串行通讯的标准。它的全名是“数据终端设备（DTE）和数据通讯设备（DCE）之间串行二进制数据交换接口技术标准”。该标准规定，采用一个25个脚的DB25连接器，对连接器的每个引脚的信号内容加以规定，还对各种信号的电平加以规定。RS-232虽然被广泛接受，但数据传输的速度、范围、网络化都存在局限性，因不同需求发展出如RS-422、RS-485等标准接口， RS-422和RS-485通过对数据信号和控制信号使用差动电压从而克服了这些限制，也正是这些改进使得各种串口设备被应用于非常广泛的行业。目前，串口已经成为各公司很多产品的标准配置。
在通信中，常用串行通信的方式实现下位机数据的采集和上位机对下位机的控制。由于串行通信是在一根传输线上一位一位地传送信息，所以传输线少，适合远距离传输。单片机之间的通信采用异步串行通信RS-232接口。
在日常生活和工作中，住宅与部门的安全防范、单位的文件档案、财务报表以及一些个人资料的保存通常多以加锁的方式来保存。目前，最常用的锁是20世纪50年代意大利人设计的机械锁，其机构简单、使用方便、价格便宜。但在使用中暴露了很多缺点：一是机械锁是靠金属制成的钥匙上的不同齿形与锁芯的配合来工作的。据统计，每4000把锁中就有两把锁的钥匙齿牙相同或类似，故安全性低。根据国外的统计资料，装有电子防盗装置的商业区或居民区盗窃犯罪率平均下降30％左右。二是钥匙一旦丢失，无论谁捡到都可以将锁打开。三是机械锁的材料大多为黄铜，质地较软，容易损坏。四是机械锁钥匙易于复制，不适于诸如宾馆等公共场所使用。
出于安全、方便等方面的需要，许多智能锁(如指纹辨别、IC卡识别)已相继问世，但这类产品的特点是针对特定指纹或有效卡，只能适用于保密要求高且仅供个别人使用的箱、柜、房间等。另外，卡片式的IC卡易丢失，加上其成本一般较高，在一定程度上限制了这类产品的普及和推广。
随着人们生活水平的提高， 电子密码防盗锁作为防盗卫士的作用日趋重要。电子密码防盗锁用密码代替钥匙，不但省去了佩戴钥匙的烦恼，也从根本上解决了普通门锁保密性差的缺点。如果采用4位密码，则密码组合可达到l0000，每增加l位，密码组合就增加l0倍；同时，在内部的单片机可以显示密码和设置新密码。
本设计是单片机之间的串行通信应用于电子密码锁，同时电子密码锁还具有语音提示的功能，方便了用户的操作，可广泛的应用于新型小区单元门、超市的存储柜、智能取款机等。
